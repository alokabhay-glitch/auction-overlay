<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Auction Action Test</title>

  <style>
    body {
      margin: 0;
      background: #071a1f;
      color: #ffffff;
      font-family: Arial, sans-serif;
    }

    .box {
      width: 520px;
      padding: 18px 20px;
      border-radius: 14px;
      background: linear-gradient(135deg, #0f2c33, #123b42);
      box-shadow: 0 10px 30px rgba(0,0,0,.4);
    }

    h2 {
      margin: 0 0 10px;
      font-size: 18px;
      letter-spacing: .5px;
    }

    .item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255,255,255,.08);
      font-size: 14px;
    }

    .price {
      color: #2dffb3;
      font-weight: bold;
    }
  </style>
</head>

<body>

<div class="box">
  <h2>ðŸ”¥ AUCTION ACTION</h2>
  <div id="list">Loadingâ€¦</div>
</div>

<script>
  const SCRIPT_URL =
    "https://script.google.com/macros/s/AKfycbxuzasRc-NmWy4JJeEYJGYVRakHOefPiP_vdrpWm1Xr_IKH7c74_t1d4KLflwXvwxU9/exec";

  function callback(data) {
    const list = document.getElementById("list");
    list.innerHTML = "";

    if (!data.actions || data.actions.length === 0) {
      list.innerHTML = "No auction actions yet";
      return;
    }

    data.actions.forEach(a => {
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `
        <span>${a.player} â†’ ${a.team}</span>
        <span class="price">â‚¹ ${a.price} Cr</span>
      `;
      list.appendChild(div);
    });
  }

  function loadData() {
    const s = document.createElement("script");
    s.src = SCRIPT_URL + "?callback=callback&t=" + Date.now();
    document.body.appendChild(s);
  }

  loadData();
  setInterval(loadData, 3000);
</script>

</body>
</html>
