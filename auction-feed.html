<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Auction Action Feed</title>

<style>
body {
    margin: 0;
    width: 520px;
    height: 900px;
    background: transparent;
    font-family: "Segoe UI", Arial, sans-serif;
    overflow: hidden;
}

/* PANEL */
#panel {
    width: 100%;
    height: 100%;
    background: linear-gradient(180deg, #0f2a2d, #081417);
    border-radius: 22px;
    padding: 18px;
    box-shadow: 0 20px 50px rgba(0,0,0,0.7);
}

/* HEADER */
#title {
    font-size: 20px;
    font-weight: 700;
    letter-spacing: 1px;
    color: #e6fffb;
    margin-bottom: 14px;
}

/* LIST */
#list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* ROW */
.row {
    display: grid;
    grid-template-columns: 40px 1fr 60px 80px;
    align-items: center;
    background: rgba(255,255,255,0.04);
    padding: 10px 12px;
    border-radius: 12px;
    animation: slideIn 0.5s ease;
}

@keyframes slideIn {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
}

/* SERIAL */
.no {
    color: #7fffd4;
    font-weight: 700;
}

/* NAME */
.name {
    color: #ffffff;
    font-weight: 600;
    font-size: 14px;
}

/* TEAM */
.team {
    color: #ffd166;
    font-weight: 700;
    font-size: 13px;
}

/* PRICE */
.price {
    color: #00ffb3;
    font-weight: 800;
    font-size: 14px;
    text-align: right;
}
</style>
</head>

<body>

<div id="panel">
    <div id="title">ðŸ”¥ AUCTION ACTION</div>
    <div id="list">Loading...</div>
</div>

<script>
const SCRIPT_URL =
  "PASTE_YOUR_APPS_SCRIPT_URL_HERE"; // same one you used for sold players

function callback(data) {
    const list = document.getElementById("list");
    list.innerHTML = "";

    data.players.forEach((p, i) => {
        const row = document.createElement("div");
        row.className = "row";
        row.innerHTML = `
            <div class="no">${String(i+1).padStart(2,"0")}</div>
            <div class="name">${p.player}</div>
            <div class="team">${p.team}</div>
            <div class="price">â‚¹ ${p.price} Cr</div>
        `;
        list.appendChild(row);
    });
}

// refresh every 3 seconds
setInterval(() => {
    const s = document.createElement("script");
    s.src = SCRIPT_URL + "?mode=feed&callback=callback&t=" + Date.now();
    document.body.appendChild(s);
}, 3000);
</script>

</body>
</html>
