<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>IPL Auction Overlay</title>

<script src="https://www.gstatic.com/charts/loader.js"></script>

<style>
body {
  margin: 0;
  background: transparent;
  font-family: Arial, sans-serif;
}
.box {
  width: 420px;
  padding: 16px 20px;
  background: linear-gradient(135deg, #102a43, #243b55);
  border-radius: 12px;
  color: #fff;
}
.title {
  color: #ffcc00;
  font-weight: bold;
  margin-bottom: 6px;
}
.player {
  font-size: 24px;
  font-weight: bold;
}
.team {
  font-size: 18px;
  opacity: 0.9;
}
.price {
  font-size: 20px;
  color: #00ffae;
  font-weight: bold;
}
</style>
</head>

<body>

<div class="box">
  <div class="title">ðŸ”¥ SOLD ðŸ”¥</div>
  <div class="player" id="player">Waitingâ€¦</div>
  <div class="team" id="team"></div>
  <div class="price" id="price"></div>
</div>

<script>
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(loadData);

function loadData() {
  const sheetId = "1sjyD7fem0Nh20xoRe0hZtB7YpmrNkV38hXDBZgFaSJw";
  const sheetName = "DASHBOARD_STREAM";
  const query = new google.visualization.Query(
    `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?sheet=${sheetName}`
  );

  query.send(function(response) {
    if (response.isError()) return;

    const data = response.getDataTable();

    // K4, K5, K6 â†’ row 3,4,5 col 10
    document.getElementById("player").innerText =
      data.getValue(3, 10) || "";

    document.getElementById("team").innerText =
      data.getValue(4, 10) || "";

    const price = data.getValue(5, 10);
    document.getElementById("price").innerText =
      price ? `â‚¹ ${price} Cr` : "";
  });
}

// refresh every 2 seconds
setInterval(loadData, 2000);
</script>

</body>
</html>
